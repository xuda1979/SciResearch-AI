[importlinter]
root_packages =
    sciresearch_core
    sciresearch_ai
    gpt_oss

[importlinter:contract:core_is_independent]
name = sciresearch-core is independent
type = forbidden
source_modules =
    sciresearch_core
forbidden_modules =
    sciresearch_ai
    gpt_oss

[importlinter:contract:sciresearch_ai_does_not_import_gpt_oss]
name = sciresearch_ai does not import gpt_oss
type = forbidden
source_modules =
    sciresearch_ai
forbidden_modules =
    gpt_oss
ignore_imports =
    sciresearch_ai.providers.oss_provider -> gpt_oss.responses_api.inference.transformers
    sciresearch_ai.providers.oss_provider -> gpt_oss.tools.simple_browser
    sciresearch_ai.providers.oss_provider -> gpt_oss.tools.simple_browser.backend

[importlinter:contract:gpt_oss_does_not_import_sciresearch_ai]
name = gpt_oss does not import sciresearch_ai
type = forbidden
source_modules =
    gpt_oss
forbidden_modules =
    sciresearch_ai
